<html>
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.4/angular.js"></script>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Popper JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

  <link rel="stylesheet" type="text/css" href="../css/search.css">
  
  <script src="../js/logIn.js"></script>
  <script src="../js/results.js"></script>
  <script src="../js/search.js"></script>
  <script src="../js/signUp.js"></script>

	<title>Spring Boot AngularJS example</title>
</head>

<body ng-app="myApp" ng-controller="SearchController">
	
	<div class="header">
    <!-- Trigger the modal with a button -->
    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#deleteComfirmation">Delete My Account</button>
	</div>

  <div class="container center" ng-show="searchBar">
    <div class="row justify-content-center">
      <h1>Find Your Car</h1>
    </div>

    <div class="row">
      <label class="col-sm-3 required">Model</label>     
      <div class="col-sm-9">
        <select class="custom-select d-block w-100" id="model">
          <option value="">Choose...</option>
          <option ng-repeat="model in modelList">
            <div>{{model}}</div>
          </option>
        </select>
        <p class="mt-2 mb-2 text-center" style="color: red;" ng-show="selectModelWarning">
          Model is a required field. Please select a model.
        </p>
      </div>
    </div>


    <div class="row">
      <label class="col-sm-3 required">Year</label>     
      <div class="col-sm-9">
        <select class="custom-select d-block w-100" id="year">
          <option value="">Choose...</option>
          <option ng-repeat="year in yearList">
              <div>{{year}}</div>
          </option>
        </select>
        <p class="mt-2 mb-2 text-center" style="color: red;" ng-show="selectYearWarning">
          Year is a required field. Please select a year.
        </p>
      </div>
    </div>

    <div class="row">
      <label class="col-sm-3 required">Make</label>     
      <div class="col-sm-9">
        <select class="custom-select d-block w-100" id="make">
          <option value="">Choose...</option>
          <option ng-repeat="make in makeList">
            <div>{{make}}</div>
          </option>
        </select>
        <p class="mt-2 mb-2 text-center" style="color: red;" ng-show="selectMakeWarning">
          Make is a required field. Please select a make.
        </p>
      </div>
    </div>

    <div class="row">
      <label class="col-sm-3">Price From</label>     
      <div class="col-sm-9">
        <select class="custom-select d-block w-100" id="priceFrom">
          <option value="">Choose...</option>
          <option ng-repeat="price in priceList">
            <div>{{price}}</div>
          </option>
        </select>
        <div class="invalid-feedback ng-hide">
          Please select a valid country.
        </div>
      </div>
    </div>

    <div class="row">
      <label class="col-sm-3">Price To</label>     
      <div class="col-sm-9">
        <select class="custom-select d-block w-100" id="priceTo">
          <option value="">Choose...</option>
          <option ng-repeat="price in priceList">
            <div>{{price}}</div>
          </option>
        </select>
        <div class="invalid-feedback ng-hide">
          Please select a valid country.
        </div>
      </div>
    </div>

    <div class="row justify-content-center">
        <button type="button" class="btn btn-outline-success search-btn" ng-click="getSearchCriteria()">Search</button>
    </div>

  </div>

  <div class="container-fluid" ng-show="searchResult">

    <div class="row text-center font-weight-bold" id="tableLabel">
      <div class="col-sm-3">Year</div>
      <div class="col-sm-3">Make</div>
      <div class="col-sm-3">Model</div>
      <div class="col-sm-3">Consumption</div>
    </div>

    <div class="row text-center" ng-repeat="result in resultList">
      <div class="col-sm-3">{{result.year}}</div>
      <div class="col-sm-3">{{result.mid}}</div>
      <div class="col-sm-3">{{result.model}}</div>
      <div class="col-sm-3">{{result.comb_cons}}</div>
    </div>
    
  </div>

  <!-- Modal -->
  <div id="deleteComfirmation" class="modal fade" role="dialog">
    <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Confirmation</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to delete your account?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Yes</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>

    </div>
  </div>

</body>
</html>